--BASE DE DADOS DE UMA APLICAÇÃO QUE GERE EVENTOS
DROP TABLE IF EXISTS User;
DROP TABLE IF EXISTS Event;
DROP TABLE IF EXISTS AdminEvent;
DROP TABLE IF EXISTS AttendEvent;
DROP TABLE IF EXISTS Comentario;
DROP TABLE IF EXISTS EventType;

-- TABLE USER

CREATE TABLE User(
	username NVARCHAR2(20) PRIMARY KEY,
	password NVARCHAR2(50) NOT NULL,
	name NVARCHAR2(50) NOT NULL,
	email NVARCHAR2(50) NOT NULL
);

-- TABLE EVENT

CREATE TABLE Event(
	idEvent INTEGER PRIMARY KEY,
	username INTEGER REFERENCES User(username),
	name NVARCHAR2(50) NOT NULL,
	eventDateStart DATE,
	eventDateEnd DATE,
	description NVARCHAR2(250),
	local NVARCHAR2(100) NOT NULL,
	type NVARCHAR2(20) NOT NULL
);

CREATE TABLE AdminEvent(
	idEvent INTEGER REFERENCES  Event(idEvent),
	username INTEGER REFERENCES User(username)
);


CREATE TABLE AttendEvent(
	idEvent INTEGER REFERENCES  Event(idEvent),
	username INTEGER REFERENCES User(username)
);


CREATE TABLE Comentario(
	idComentario INTEGER PRIMARY KEY,
	username REFERENCES User(username),
	idEvent INTEGER REFERENCES  Event(idEvent),
	comentario  NVARCHAR2(200) 
);

/*CREATE TABLE EventType(
	idType INTEGER PRIMARY KEY,
	idEvent INTEGER REFERENCES  Event(idEvent)
);*/

